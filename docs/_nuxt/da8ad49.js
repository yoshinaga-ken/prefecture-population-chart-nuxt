(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{350:function(e,t,r){var content=r(353);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(72).default)("1b7833da",content,!0,{sourceMap:!1})},351:function(e,t,r){var content=r(362);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(72).default)("3fec7728",content,!0,{sourceMap:!1})},352:function(e,t,r){"use strict";var n=r(350);r.n(n).a},353:function(e,t,r){(t=r(71)(!1)).push([e.i,'.container{margin:0 auto;justify-content:center}.title{font-family:"Quicksand","Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links{padding-top:15px}',""]),e.exports=t},361:function(e,t,r){"use strict";var n=r(351);r.n(n).a},362:function(e,t,r){(t=r(71)(!1)).push([e.i,".pref-chart-container{background-color:#eee;margin-bottom:1em;padding:1em}.prefs-chart-checkboxs{background-color:#fff;margin-bottom:1em}.prefs-chart-checkboxs ul{list-style:none;text-align:center}.prefs-chart-checkboxs ul li{display:inline-block;width:20%}.pref-chart-chart{margin-left:auto;margin-right:auto;width:100%;height:600px}",""]),e.exports=t},363:function(e,t,r){"use strict";r.r(t);r(51),r(106),r(225),r(52),r(35),r(354),r(357),r(17),r(107),r(53),r(54);var n=r(358),o=r.n(n),l=r(360),c=r.n(l),f=r(68),d=r.n(f),h=function(e){return d.a.get(e,{headers:{"X-API-KEY":"3BKB29A7OA7kXnQ55wyn8Y3lKmGMrT6SnHH24ASv"}})},v="https://opendata.resas-portal.go.jp/api/v1/prefectures",m="https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear",y=["total","yang","working","aged"],x=["総人口","年少人口","生産年齢人口","老年人口"],C={name:"PrefChart",props:{chartTitle:{type:String,default:null},poplationType:{type:String,default:"total",validator:function(e){return y.includes(e)}},isDynamicLoad:{type:Boolean,default:!0},prefectures:{type:Array,default:null}},data:function(){return{series:[],prefCodes:{}}},mounted:function(){var e=this;this.$props.isDynamicLoad?this.getPrefData(this.$props.poplationType,this.$props.prefectures).then((function(t){e.prefCodes=t.prefCodes,e.createChart(t.series,1960)})):this.getAllPrefData(this.$props.poplationType,this.$props.prefectures).then((function(t){e.createChart(t.series,t.pointStart)}))},methods:{getPrefData:function(){var e={prefCodes:{},series:[]};return h(v).then((function(t){for(var i=0;i<t.data.result.length;i++){e.prefCodes[t.data.result[i].prefName]=t.data.result[i].prefCode;var r={name:t.data.result[i].prefName};e.series.push(r)}return Promise.resolve(e)}))},getPrefSeriesData:function(e,t){var r={data:[],pointStart:Number.MAX_SAFE_INTEGER},n=y.indexOf(t);return h(m+"?cityCode=-&prefCode="+e).then((function(e){var t=e.data.result.data[n].data,l=t.map((function(e){return e.year})),c=t.map((function(e){return e.value})),f=o.a.min(l);return r.pointStart=f,r.data=c,Promise.resolve(r)}))},getAllPrefData:function(e,t){var r={prefectures:{},series:[],pointStart:Number.MAX_SAFE_INTEGER};return h(v).then((function(n){for(var i=0;i<n.data.result.length;i++)r.prefectures[n.data.result[i].prefCode]=n.data.result[i].prefName;var l=(t?n.data.result.filter((function(e){return t.includes(e.prefName)})):n.data.result).map((function(e){return e.prefCode}));return Promise.all(l.map((function(e){return h(m+"?cityCode=-&prefCode="+e)}))).then((function(t){for(var n=y.indexOf(e),c=0;c<t.length;c++){var f=t[c].data.result.data[n].data,d=f.map((function(e){return e.year})),h=f.map((function(e){return e.value})),v=o.a.min(d);v<r.pointStart&&(r.pointStart=v);var m={name:r.prefectures[l[c]],data:h};r.series.push(m)}return Promise.resolve(r)}))}))},createChart:function(e,t){c.a.setOptions({lang:{thousandsSep:",",shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}});var r={title:{text:null===this.$props.chartTitle?"都道府県別 "+x[y.indexOf(this.$props.poplationType)]+" の推移":this.$props.chartTitle},subtitle:{text:""},yAxis:{title:{text:"人口数",align:"high",rotation:0,x:80,y:-20,style:{"font-size":"1.2em","font-weight":"bold"}},labels:{formatter:function(){return c.a.numberFormat(this.value,0,"",",")}}},xAxis:{title:{text:"年度",align:"high",x:50,y:-20,style:{"font-size":"1.2em","font-weight":"bold"}},accessibility:{rangeDescription:"年度"}},legend:{layout:"vertical",align:"right",verticalAlign:"top"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:t,pointInterval:5}},series:e,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},n=c.a.chart(this.$refs.chart,r);if(this.series=n.series,this.$props.isDynamicLoad)for(var i=0;i<n.series.length;i++)n.series[i].update({visible:!1,showInLegend:!1},!0)},onChangePrefCheckbox:function(e){if(this.$props.isDynamicLoad)if(0===e.data.length){var t=this.prefCodes[e.name];this.getPrefSeriesData(t,this.$props.poplationType).then((function(t){e.setData(t.data,!1),e.update({visible:e.visible,showInLegend:e.visible,pointStart:t.pointStart})}))}else e.update({visible:e.visible,showInLegend:e.visible});else e.update({visible:e.visible,showInLegend:e.visible})}}},k=(r(361),r(47)),component=Object(k.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pref-chart-container"},[r("fieldset",{staticClass:"prefs-chart-checkboxs"},[r("legend",[e._v("都道府県")]),e._v(" "),r("ul",e._l(e.series,(function(t,i){return r("li",{key:i},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.visible,expression:"item.visible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.visible)?e._i(t.visible,null)>-1:t.visible},on:{change:[function(r){var n=t.visible,o=r.target,l=!!o.checked;if(Array.isArray(n)){var c=e._i(n,null);o.checked?c<0&&e.$set(t,"visible",n.concat([null])):c>-1&&e.$set(t,"visible",n.slice(0,c).concat(n.slice(c+1)))}else e.$set(t,"visible",l)},function(r){return e.onChangePrefCheckbox(t)}]}}),e._v(e._s(t.name))])])})),0)]),e._v(" "),r("div",{ref:"chart",staticClass:"pref-chart-chart"})])}),[],!1,null,null,null);t.default=component.exports},364:function(e,t,r){"use strict";r.r(t);var n={},o=(r(352),r(47)),component=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("PrefChart",{attrs:{"poplation-type":"total","is-dynamic-load":!0}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PrefChart:r(363).default})}}]);